
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link href="~/Content/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="~/Content/Ionicons/css/ionicons.min.css" rel="stylesheet" />
    <link href="~/Content/datatables.net-bs/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" />
    <link href="~/Content/AdminLTE.min.css" rel="stylesheet" />
    <link href="~/Content/_all-skins.min.css" rel="stylesheet" />
    <link href="~/Content/Custom/SiteCustom.css" rel="stylesheet" />
    <link rel="icon" href="~/Images/office.ico" type="image/x-icon" />
    <link href="~/Plugins/FancyTree/src/skin-win8/ui.fancytree.css" rel="stylesheet" />
    <link href="~/Content/Kendo/kendo.common.min.css" rel="stylesheet" />
    <link href="~/Content/Kendo/kendo.rtl.min.css" rel="stylesheet" />
    <link href="~/Content/Kendo/kendo.silver.min.css" rel="stylesheet" />
    <link href="~/Content/Kendo/kendo.mobile.all.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/kendo.all.min.js"></script>    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <link href="~/Content/loader.css" rel="stylesheet" />
    <script type="text/javascript">
        jQuery(function ($) {
            $(document).ajaxStop(function () {
                $("#ajax_loader").hide();
            });
            $(document).ajaxStart(function () {
                $("#ajax_loader").show();
            });
            $(document).ajaxError(function (xhr, props) {
                if (props.status === 401) {
                    alert("Session expired!!! You will be logout.");
                    window.location.href = '@Url.Content("~/")Login/Login';
                }
            });
        });
    </script>
    <script type="text/javascript">
    var interval;
    $(document).on('mousemove', function () {
        clearInterval(interval);
        var coutdown =  parseInt("@Session.Timeout") * 60; // After 6 minutes session expired  (mouse button click code)
        interval = setInterval(function () {
            --coutdown;
            if (coutdown === 0) {
                alert("Session expired!!! You will be logout.");
                window.location.href = '@Url.Content("~/")Login/Login';
            }

        }, 1000);
    }).mousemove();



    var interval;
    $(document).on('keydown', function () {
        clearInterval(interval);
        var coutdown =  parseInt("@Session.Timeout") * 60; // After 6 minutes session expired (keyboard button press code)
        interval = setInterval(function () {
            --coutdown;
            if (coutdown === 0) {
                alert("Session expired you will be logout.");
                window.location.href = "/Login/Login";
            }

        }, 1000);
    }).mousemove();
    </script>

    <style type="text/css">
        .logo {
            padding: 0 8px !important;
        }

            .logo span {
                font-size: 14px;
            }

        .logo-mini {
            font-size: 16px !important;
        }

        .logo-lg {
            white-space: nowrap;
        }
    </style>
</head>
<body class="hold-transition skin-blue sidebar-mini">
    <header class="main-header">
        <a href="#" class="logo">
            <span class="logo-mini"><b>IMS</b></span>
            <span class="logo-lg"><b>Integrated Management System</b></span>
        </a>
        <nav class="navbar navbar-static-top">
            <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                <span class="sr-only">Toggle navigation</span>
            </a>
            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">
                    <li class="dropdown user user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            @*<img src="dist/img/user2-160x160.jpg" class="user-image" alt="User Image">*@
                            <span class="hidden-xs">FS Office</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="user-header">
                                <p>
                                    @Session["Email"]
                                </p>
                            </li>
                            <li class="user-footer">
                                <div class="pull-left">
                                    <a href="#" class="btn btn-default btn-flat">Profile</a>
                                </div>
                                <div class="pull-right">
                                    <a href="@Url.Action("Logout", "Login")" class="btn btn-default btn-flat">Sign out</a>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Left side sidebar -->
    <aside class="main-sidebar">
        <section class="sidebar">
            @*@Html.Action("Menu","Home")*@
            @{Html.RenderPartial("Menu", "Home");}
        </section>
    </aside>

    <div class="content-wrapper">
        @RenderBody()

        <div id='ajax_loader' class="loader" style="position: fixed; left: 50%; top: 50%; display: none;">
        </div>
    </div>

    <script src="~/Plugins/FancyTree/src/jquery-ui-dependencies/jquery-ui.min.js"></script>
    <script src="~/Plugins/FancyTree/src/jquery.fancytree.js"></script>
    <script src="~/Scripts/bootstrap/bootstrap.min.js"></script>
    <script src="~/Scripts/datatables.net/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/datatables.net-bs/dataTables.bootstrap.min.js"></script>
    <script src="~/Scripts/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>

    <script src="~/Scripts/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <script src="~/Scripts/fastclick.js"></script>
    <script src="~/Scripts/adminlte.js"></script>
    <script src="~/Scripts/demo.js"></script>
    <script src="~/Scripts/notify.min.js"></script>

    <script src="~/Scripts/jquery/bootbox.min.js"></script>
    <script type="text/javascript">
        function generateGUID() {
            var d = new Date().getTime();
            if (Date.now) {
                d = Date.now(); //high-precision timer
            }
            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                var r = (d + Math.random() * 16) % 16 | 0;
                d = Math.floor(d / 16);
                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
            });
            return uuid;
        };
    </script>
    @RenderSection("scripts", required: false)
</body>
</html>
